<!DOCTYPE html>
<html lang="es-ES" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Gestión remota con SSH y VNC | Servidor mamadísimo</title>
    <meta name="description" content="Guía del servidor.">
    <link rel="preload stylesheet" href="/server/assets/style.7c141a74.css" as="style">
    <script type="module" src="/server/assets/app.68e79bb0.js"></script>
    <link rel="preload" href="/server/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/server/assets/chunks/framework.c70b0f75.js">
  <link rel="modulepreload" href="/server/assets/chunks/theme.bd974f2f.js">
  <link rel="modulepreload" href="/server/assets/equipo_gestion-remota.md.0d56ad63.lean.js">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-abcc630f><!--[--><!--]--><!--[--><span tabindex="-1" data-v-151f2593></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-151f2593> Skip to content </a><!--]--><!----><header class="VPNav" data-v-abcc630f data-v-0fa0e57d><div class="VPNavBar has-sidebar" data-v-0fa0e57d data-v-be450ad9><div class="container" data-v-be450ad9><div class="title" data-v-be450ad9><div class="VPNavBarTitle has-sidebar" data-v-be450ad9 data-v-6d2fb2d9><a class="title" href="/server/" data-v-6d2fb2d9><!--[--><!--]--><!----><!--[-->Servidor mamadísimo<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-be450ad9><div class="curtain" data-v-be450ad9></div><div class="content-body" data-v-be450ad9><!--[--><!--]--><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-be450ad9 data-v-bdedfc22><span id="main-nav-aria-label" class="visually-hidden" data-v-bdedfc22>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/server/" tabindex="0" data-v-bdedfc22 data-v-bbf845a0 data-v-a8b5c975><!--[-->Inicio<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/server/equipo/hardware.html" tabindex="0" data-v-bdedfc22 data-v-bbf845a0 data-v-a8b5c975><!--[-->Guía del servidor<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="https://github.com/ComicIvans/server" target="_blank" rel="noreferrer" tabindex="0" data-v-bdedfc22 data-v-bbf845a0 data-v-a8b5c975><!--[-->Archivos de configuración<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-a8b5c975><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-be450ad9 data-v-da3f667a><label title="toggle dark mode" data-v-da3f667a data-v-2eaa5496><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-2eaa5496 data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-2eaa5496><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-2eaa5496><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-be450ad9 data-v-2ab2a029 data-v-f6988cfb><!--[--><a class="VPSocialLink" href="https://discord.gg/YdnmG5v8" aria-label="discord" target="_blank" rel="noopener" data-v-f6988cfb data-v-92b28dff><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Discord</title><path d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-be450ad9 data-v-66bb1f24 data-v-96001b6b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-96001b6b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-96001b6b><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-96001b6b><div class="VPMenu" data-v-96001b6b data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-66bb1f24><div class="item appearance" data-v-66bb1f24><p class="label" data-v-66bb1f24>Appearance</p><div class="appearance-action" data-v-66bb1f24><label title="toggle dark mode" data-v-66bb1f24 data-v-2eaa5496><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-2eaa5496 data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-2eaa5496><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-2eaa5496><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div></div></div><div class="group" data-v-66bb1f24><div class="item social-links" data-v-66bb1f24><div class="VPSocialLinks social-links-list" data-v-66bb1f24 data-v-f6988cfb><!--[--><a class="VPSocialLink" href="https://discord.gg/YdnmG5v8" aria-label="discord" target="_blank" rel="noopener" data-v-f6988cfb data-v-92b28dff><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Discord</title><path d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-be450ad9 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-abcc630f data-v-2dcb6fa6><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2dcb6fa6><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-2dcb6fa6><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-2dcb6fa6>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2dcb6fa6 data-v-93ea7dd0><button class="" data-v-93ea7dd0>On this page <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-93ea7dd0><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></button><!----></div></div><aside class="VPSidebar" data-v-abcc630f data-v-c79ccefa><div class="curtain" data-v-c79ccefa></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-c79ccefa><span class="visually-hidden" id="sidebar-aria-label" data-v-c79ccefa> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-c79ccefa><section class="VPSidebarItem level-0 has-active" data-v-c79ccefa data-v-5d3c8d52><div class="item" role="button" tabindex="0" data-v-5d3c8d52><div class="indicator" data-v-5d3c8d52></div><h2 class="text" data-v-5d3c8d52>Equipo</h2><!----></div><div class="items" data-v-5d3c8d52><!--[--><div class="VPSidebarItem level-1 is-link" data-v-5d3c8d52 data-v-5d3c8d52><div class="item" data-v-5d3c8d52><div class="indicator" data-v-5d3c8d52></div><a class="VPLink link link" href="/server/equipo/hardware.html" data-v-5d3c8d52 data-v-a8b5c975><!--[--><p class="text" data-v-5d3c8d52>Hardware</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-5d3c8d52 data-v-5d3c8d52><div class="item" data-v-5d3c8d52><div class="indicator" data-v-5d3c8d52></div><a class="VPLink link link" href="/server/equipo/sistema-encriptado.html" data-v-5d3c8d52 data-v-a8b5c975><!--[--><p class="text" data-v-5d3c8d52>Instalación del SO encriptado</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-5d3c8d52 data-v-5d3c8d52><div class="item" data-v-5d3c8d52><div class="indicator" data-v-5d3c8d52></div><a class="VPLink link link" href="/server/equipo/router-dominio.html" data-v-5d3c8d52 data-v-a8b5c975><!--[--><p class="text" data-v-5d3c8d52>Configuración del router y dominio</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link is-active has-active" data-v-5d3c8d52 data-v-5d3c8d52><div class="item" data-v-5d3c8d52><div class="indicator" data-v-5d3c8d52></div><a class="VPLink link link" href="/server/equipo/gestion-remota.html" data-v-5d3c8d52 data-v-a8b5c975><!--[--><p class="text" data-v-5d3c8d52>Gestión remota con SSH y VNC</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-5d3c8d52 data-v-5d3c8d52><div class="item" data-v-5d3c8d52><div class="indicator" data-v-5d3c8d52></div><a class="VPLink link link" href="/server/equipo/nginx.html" data-v-5d3c8d52 data-v-a8b5c975><!--[--><p class="text" data-v-5d3c8d52>Nginx como servidor web</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-5d3c8d52 data-v-5d3c8d52><div class="item" data-v-5d3c8d52><div class="indicator" data-v-5d3c8d52></div><a class="VPLink link link" href="/server/equipo/docker.html" data-v-5d3c8d52 data-v-a8b5c975><!--[--><p class="text" data-v-5d3c8d52>Docker</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-5d3c8d52 data-v-5d3c8d52><div class="item" data-v-5d3c8d52><div class="indicator" data-v-5d3c8d52></div><a class="VPLink link link" href="/server/equipo/mariadb-docker.html" data-v-5d3c8d52 data-v-a8b5c975><!--[--><p class="text" data-v-5d3c8d52>Configurando MariaDB con Docker</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-c79ccefa><section class="VPSidebarItem level-0" data-v-c79ccefa data-v-5d3c8d52><div class="item" role="button" tabindex="0" data-v-5d3c8d52><div class="indicator" data-v-5d3c8d52></div><h2 class="text" data-v-5d3c8d52>Servicios</h2><!----></div><div class="items" data-v-5d3c8d52><!--[--><div class="VPSidebarItem level-1 is-link" data-v-5d3c8d52 data-v-5d3c8d52><div class="item" data-v-5d3c8d52><div class="indicator" data-v-5d3c8d52></div><a class="VPLink link link" href="/server/servicios/minecraft.html" data-v-5d3c8d52 data-v-a8b5c975><!--[--><p class="text" data-v-5d3c8d52>Minecraft con AMP</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-5d3c8d52 data-v-5d3c8d52><div class="item" data-v-5d3c8d52><div class="indicator" data-v-5d3c8d52></div><a class="VPLink link link" href="/server/servicios/dozzle.html" data-v-5d3c8d52 data-v-a8b5c975><!--[--><p class="text" data-v-5d3c8d52>Dozzle - Visualizador de logs</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-5d3c8d52 data-v-5d3c8d52><div class="item" data-v-5d3c8d52><div class="indicator" data-v-5d3c8d52></div><a class="VPLink link link" href="/server/servicios/homarr.html" data-v-5d3c8d52 data-v-a8b5c975><!--[--><p class="text" data-v-5d3c8d52>Homarr - Dashboard</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-5d3c8d52 data-v-5d3c8d52><div class="item" data-v-5d3c8d52><div class="indicator" data-v-5d3c8d52></div><a class="VPLink link link" href="/server/servicios/uptime-kuma.html" data-v-5d3c8d52 data-v-a8b5c975><!--[--><p class="text" data-v-5d3c8d52>Uptime Kuma - Status</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-5d3c8d52 data-v-5d3c8d52><div class="item" data-v-5d3c8d52><div class="indicator" data-v-5d3c8d52></div><a class="VPLink link link" href="/server/servicios/authentik.html" data-v-5d3c8d52 data-v-a8b5c975><!--[--><p class="text" data-v-5d3c8d52>Authentik - Autenticación</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-5d3c8d52 data-v-5d3c8d52><div class="item" data-v-5d3c8d52><div class="indicator" data-v-5d3c8d52></div><a class="VPLink link link" href="/server/servicios/nextcloud.html" data-v-5d3c8d52 data-v-a8b5c975><!--[--><p class="text" data-v-5d3c8d52>Nextcloud - Almacenamiento</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-5d3c8d52 data-v-5d3c8d52><div class="item" data-v-5d3c8d52><div class="indicator" data-v-5d3c8d52></div><a class="VPLink link link" href="/server/servicios/gogs.html" data-v-5d3c8d52 data-v-a8b5c975><!--[--><p class="text" data-v-5d3c8d52>Gitea - Servicio git</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-5d3c8d52 data-v-5d3c8d52><div class="item" data-v-5d3c8d52><div class="indicator" data-v-5d3c8d52></div><a class="VPLink link link" href="/server/servicios/navidrome.html" data-v-5d3c8d52 data-v-a8b5c975><!--[--><p class="text" data-v-5d3c8d52>Navidrome - Streaming de música</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-5d3c8d52 data-v-5d3c8d52><div class="item" data-v-5d3c8d52><div class="indicator" data-v-5d3c8d52></div><a class="VPLink link link" href="/server/servicios/sharelatex.html" data-v-5d3c8d52 data-v-a8b5c975><!--[--><p class="text" data-v-5d3c8d52>Overleaf - Editor de LaTeX</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-5d3c8d52 data-v-5d3c8d52><div class="item" data-v-5d3c8d52><div class="indicator" data-v-5d3c8d52></div><a class="VPLink link link" href="/server/servicios/docker-mailserver.html" data-v-5d3c8d52 data-v-a8b5c975><!--[--><p class="text" data-v-5d3c8d52>Docker Mailserver - Servidor de correo</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-c79ccefa><section class="VPSidebarItem level-0" data-v-c79ccefa data-v-5d3c8d52><div class="item" role="button" tabindex="0" data-v-5d3c8d52><div class="indicator" data-v-5d3c8d52></div><h2 class="text" data-v-5d3c8d52>Relatos</h2><!----></div><div class="items" data-v-5d3c8d52><!--[--><div class="VPSidebarItem level-1 is-link" data-v-5d3c8d52 data-v-5d3c8d52><div class="item" data-v-5d3c8d52><div class="indicator" data-v-5d3c8d52></div><a class="VPLink link link" href="/server/relatos/initramfs-vs-router.html" data-v-5d3c8d52 data-v-a8b5c975><!--[--><p class="text" data-v-5d3c8d52>Initramfs vs Router</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-5d3c8d52 data-v-5d3c8d52><div class="item" data-v-5d3c8d52><div class="indicator" data-v-5d3c8d52></div><a class="VPLink link link" href="/server/relatos/bloqueo-ssh.html" data-v-5d3c8d52 data-v-a8b5c975><!--[--><p class="text" data-v-5d3c8d52>Bloqueo de SSH</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-5d3c8d52 data-v-5d3c8d52><div class="item" data-v-5d3c8d52><div class="indicator" data-v-5d3c8d52></div><a class="VPLink link link" href="/server/relatos/usuario-docker.html" data-v-5d3c8d52 data-v-a8b5c975><!--[--><p class="text" data-v-5d3c8d52>Lucas vs. Debian & Docker & etc.</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-abcc630f data-v-fe5dac9b><div class="VPDoc has-sidebar has-aside" data-v-fe5dac9b data-v-408f3b24><div class="container" data-v-408f3b24><div class="aside" data-v-408f3b24><div class="aside-curtain" data-v-408f3b24></div><div class="aside-container" data-v-408f3b24><div class="aside-content" data-v-408f3b24><div class="VPDocAside" data-v-408f3b24 data-v-cdc66372><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-cdc66372 data-v-7f4425f6><div class="content" data-v-7f4425f6><div class="outline-marker" data-v-7f4425f6></div><div class="outline-title" data-v-7f4425f6>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-7f4425f6><span class="visually-hidden" id="doc-outline-aria-label" data-v-7f4425f6> Table of Contents for current page </span><ul class="root" data-v-7f4425f6 data-v-e82ceacd><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-cdc66372></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-408f3b24><div class="content-container" data-v-408f3b24><!--[--><!--]--><div class="VPDocOutlineDropdown" data-v-408f3b24 data-v-1c313eb9><button class="" data-v-1c313eb9>On this page <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-1c313eb9><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></button><!----></div><main class="main" data-v-408f3b24><div style="position:relative;" class="vp-doc _server_equipo_gestion-remota" data-v-408f3b24><div><h1 id="gestion-remota-con-ssh-y-vnc" tabindex="-1">Gestión remota con SSH y VNC <a class="header-anchor" href="#gestion-remota-con-ssh-y-vnc" aria-label="Permalink to &quot;Gestión remota con SSH y VNC&quot;">​</a></h1><p>Esta sección incluye todas las cosas que hay que hacer en el servidor antes de poder guardarlo, olvidarte de él y no volver a necesitar enchufarle un monitor y un teclado para gestionarlo.</p><h2 id="breve-introduccion" tabindex="-1">Breve introducción <a class="header-anchor" href="#breve-introduccion" aria-label="Permalink to &quot;Breve introducción&quot;">​</a></h2><p>Un servidor es un ordenador al que no quieres tenerle conectado ni un monitor ni un teclado <em>(el ratón no existe)</em> porque no deberías tener que tocarlo directamente salvo para el mantenimiento físico y cambios en la BIOS o en el sistema operativo.</p><p>Pero sí que hay que conectarse a él normalmente para instalar y desinstalar software y para configurarlo. Esto lo haremos desde otro ordenador usando el protocolo <em>Secure Shell (SSH)</em>, que nos permitirá ejecutar comandos en el servidor, transferir archivos y otras cosas más chulas que veremos después. Todo ello con una conexión cifrada 😄</p><p><img src="/server/assets/conexion-ssh.a8a485e1.jpg" alt="Conexión SSH"></p><p>Es aquí donde se nos plantea un gran problema: Cuando nos podemos conectar al servidor mediante SSH es cuando está encendido <em>(y con los discos desencriptados)</em>, pero ¿y si no estamos en casa y el ordenador se ha tenido que reiniciar o ha habido un apagón? Entonces el ordenador se quedaría esperando a que pusiéramos <em>(¡con un teclado!)</em> la contraseña para desencriptar los discos y así poder seguir encendiéndose. Esto no mola. Deberíamos de poder desencriptar el ordenador remotamente también para no tener miedo.</p><p>Este problema lo resolveremos tras preparar el servidor para el uso habitual.</p><h2 id="uso-habitual" tabindex="-1">Uso habitual <a class="header-anchor" href="#uso-habitual" aria-label="Permalink to &quot;Uso habitual&quot;">​</a></h2><p>Vamos a empezar dejando lista nuestra vía para poder gestionar remotamente el servidor cuando esté encendido.</p><p>Como lo elegimos a la hora de instalar Debian, el servidor ya viene con OpenSSH Server instalado, que por defecto se ejecuta en el puerto <code>22</code>.</p><div class="warning custom-block"><p class="custom-block-title">ADVERTENCIA</p><p>Es recomendable no usar el puerto 22 para SSH, porque, al ser el puerto por defecto, muchos ataques automatizados solo intentan conectarse a ese puerto, así que cambiándolo a otro nos ahorraremos posibles problemas. Quien quiera averiguar en qué puerto tienes el SSH podrá hacerlo con un escaneo de puertos igualmente, pero ya tendrá que querer atacarte a ti en concreto.</p></div><p>Sin embargo, si intentamos conectarnos desde otro ordenador, no nos dejará, por dos motivos:</p><ul><li>Tenemos que abrir el puerto en el router.</li><li>Tenemos que permitirlo en el <em>firewall</em> <em>(si tenemos)</em>.</li></ul><p>Así que lo que hay que hacer es primero abrir el puerto SSH en el router y, si tenemos un <em>firewall</em>, permitirlo también. <strong>Si no tenemos un <em>firewall</em>, vamos a instalarlo porque es necesario.</strong> Para ello ejecutamos los siguientes comandos:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">$ sudo apt install ufw</span></span>
<span class="line"><span style="color:#A6ACCD;">$ sudo ufw allow 22/tcp</span></span>
<span class="line"><span style="color:#A6ACCD;">$ sudo ufw enable</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>Donde <code>22</code> es el puerto de SSH y <code>tcp</code> el protocolo, que puedes leer <a href="https://nordvpn.com/es/blog/protocolo-tcp-udp/" target="_blank" rel="noreferrer">aquí</a> las diferencias entre el protocolo TCP y el UDP. Con esto ya tenemos el <em>firewall</em> configurado para aceptar conexiones SSH.</p><p>Ahora ya nos podríamos conectarnos al servidor desde otro ordenador, pero tendría que ser con la contraseña del usuario administrador, cosa que es poco segura, así que vamos a utilizar la autenticación por claves SSH.</p><p>Para configurarla en el ordenador del que nos vayamos a conectar, seguiremos <a href="https://www.digitalocean.com/community/tutorials/how-to-configure-ssh-key-based-authentication-on-a-linux-server" target="_blank" rel="noreferrer">este tutorial</a>. Además, tiene al final una parte de configuración que también se debe hacer e incluiremos más adelante en la guía.</p><h2 id="reinicios-y-desencriptacion-del-disco" tabindex="-1">Reinicios y desencriptación del disco <a class="header-anchor" href="#reinicios-y-desencriptacion-del-disco" aria-label="Permalink to &quot;Reinicios y desencriptación del disco&quot;">​</a></h2><p>Por suerte para nosotros, existe un paquete de Debian llamado <code>dropbear-initramfs</code> que nos va a permitir hacer justo lo que queremos. <strong>¿Qué es lo que hace?</strong> Pues para eso hay que entender un poco cómo se enciende un ordenador con Linux y los discos encriptados.</p><p>El disco duro realmente no está encriptado del todo, tiene una partición llamada <em>boot</em> que únicamente contiene la información necesaria para decirle al ordenador cuando se intenta encender cómo debe hacerlo. A esto se le llama <code>initramfs</code>, que son los archivos básicos que se cargan en la RAM cuando el ordenador se enciende y, junto con el kernel de Linux, se ocupan de gestionar el encendido. Puedes ver una descripción más detallada en <a href="https://wiki.ubuntu.com/Initramfs" target="_blank" rel="noreferrer">esta página</a>.</p><p>Teniendo en cuenta lo anterior, <code>dropbear-initramfs</code> es un software que permite que el servidor reciba conexiones SSH en esta fase del encendido, justo a tiempo para poner la contraseña para desencriptar los discos.</p><p>E instalarlo es muy sencillo, solo hay que irse a la terminal del servidor e instalarlo como un paquete normal y corriente escribiendo</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">$ sudo apt install dropbear-initramfs</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><strong>¿Eso es todo?</strong> Obviamente no, hay que configurarlo.</p><p>Vamos a editar el archivo de configuración, que está en <code>/etc/dropbear-initramfs/config</code> y vamos a descomentar y editar la línea:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">DROPBEAR_OPTIONS=&quot;-I 300 -j -k -p 22 -s&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>¿Qué significa esto?</p><ul><li><code>-i 300</code> desconecta a quien se conecte si en 300 segundos no ha realizado ninguna acción.</li><li><code>-j</code> deshabilita la redirección de puertos locales.</li><li><code>-k</code> deshabilita la redirección de puertos remotos.</li><li><code>-p 22</code> indica que se ejecute en el puerto 22.</li><li><code>-s</code> Deshabilita la autenticación por contraseña.</li></ul><p>Como indica el último parámetro, la autenticación por contraseña está deshabilitada, así que utilizaremos también las claves públicas que hayamos autorizado para OpenSSH Server, podemos copiarlas y hacer que los cambios tengan efecto con los comandos:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">$ sudo cp /home/admin/.ssh/authorized_keys /etc/dropbear-initramfs/</span></span>
<span class="line"><span style="color:#A6ACCD;">$ sudo update-initramfs -u</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>Esto generará de nuevo en la partición <code>boot</code> los archivos de <code>initramfs</code> incluyendo los cambios que hemos hecho.</p><p><strong>POR HACER:</strong> Cron para la IP en Initramfs.</p><h2 id="resolviendo-problemas" tabindex="-1">Resolviendo problemas <a class="header-anchor" href="#resolviendo-problemas" aria-label="Permalink to &quot;Resolviendo problemas&quot;">​</a></h2><p>Un problema con el que nos encontramos cuando intentamos conectarnos al servidor por SSH primero para desencriptar los discos y después para el uso normal, es que nos salta este error:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">$ ssh admin@wupp.dev</span></span>
<span class="line"><span style="color:#A6ACCD;">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span></span>
<span class="line"><span style="color:#A6ACCD;">@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @</span></span>
<span class="line"><span style="color:#A6ACCD;">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span></span>
<span class="line"><span style="color:#A6ACCD;">IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!</span></span>
<span class="line"><span style="color:#A6ACCD;">Someone could be eavesdropping on you right now (man-in-the-middle attack)!</span></span>
<span class="line"><span style="color:#A6ACCD;">It is also possible that a host key has just been changed.</span></span>
<span class="line"><span style="color:#A6ACCD;">The fingerprint for the ED25519 key sent by the remote host is</span></span>
<span class="line"><span style="color:#A6ACCD;">SHA256:I9TWN1skf97h/X9sJgevzZT1kZZQ9hFRQadccKljr7I.</span></span>
<span class="line"><span style="color:#A6ACCD;">Please contact your system administrator.</span></span>
<span class="line"><span style="color:#A6ACCD;">Add correct host key in /home/user/.ssh/known_hosts to get rid of this message.</span></span>
<span class="line"><span style="color:#A6ACCD;">Offending ECDSA key in /home/user/.ssh/known_hosts:2</span></span>
<span class="line"><span style="color:#A6ACCD;">  remove with:</span></span>
<span class="line"><span style="color:#A6ACCD;">  ssh-keygen -f &quot;/home/user/.ssh/known_hosts&quot; -R &quot;wupp.dev&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">Host key for wupp.dev has changed and you have requested strict checking.</span></span>
<span class="line"><span style="color:#A6ACCD;">Host key verification failed.</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>¿Qué es lo que ocurre? Pues que la IP a la que nos estamos conectando es la misma pero las claves públicas del servidor, que son las que se utilizan para verificar su identidad, son distintas. Esto el ordenador lo confunde <em>(por precaución)</em> con un intento de suplantación de la identidad del servidor, cosa que sería muy peligrosa en caso de ser cierta. Por eso no nos deja conectarnos.</p><p>Para que nos deje conectarnos es tan sencillo como eliminar el archivo de <code>known_hosts</code> mencionado en el error, pero entonces cada vez que reiniciásemos el servidor tendríamos que estar eliminando ese archivo para poder conectarnos de nuevo y, si de verdad estuviesen intentando suplantar la identidad del servidor, no nos enteraríamos.</p><p>Por suerte, hay un apaño. Si ponemos Dropbear y OpenSSH Server en puertos distintos en el servidor, podemos utilizar una identidad distinta para cada puerto cuando nos conectemos.</p><div class="danger custom-block"><p class="custom-block-title">PELIGRO</p><p>Una solución que se nos podría ocurrir es utilizar la misma clave pública y privada para Dropbear y para OpenSSH Server. Esto es una malísima idea porque la clave privada de OpenSSH Server es algo que quieres protejer más que a tu gato y, por otro lado, la de Dropbear se va a guardar en una parte desencriptada del sistema operativo, porque necesita usarse antes de desencriptar los discos, así que no está muy protegida.</p></div><p>Lo primero para esto es utilizar un puerto distinto para OpenSSH Server al que usamos para Dropbear. Para ello, editamos el archivo <code>/etc/ssh/sshd_config</code> y descomentamos la línea <code>#Port 22</code> y cambiamos el número, quedando por ejemplo <code>Port 2222</code>.</p><p>Antes de reiniciar el servidor SSH, debemos asegurarnos de que:</p><ul><li>El nuevo puerto está abierto en el router.</li><li>El nuevo puerto está permitido por el firewall, en el caso de UFW: <code>sudo ufw allow 2222/tcp</code>.</li></ul><p><em>Nuevamente el puerto es de ejemplo y es recomendable cambiarlo a otro.</em></p><p>Por último, reiniciamos el servidor SSH para que los cambios tengan efecto:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">$ sudo systemctl restart ssh</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">RELATO</p><p>Iván mientras escribía esto <em>(desde un sitio lejano a la ubicación del servidor)</em> se olvidó de permitir el nuevo puerto en el firewall y pasaron cosas malas, si quieres leer la historia completa puedes hacerlo <a href="./../relatos/bloqueo-ssh.html">aquí</a>.</p></div><p>A partir de ahora ya no deberíamos tener el problema al conectarnos, lo único que hay que tener en cuenta es que, a la hora de establecer la conexión SSH, tendremos que indicar el puerto:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">$ ssh -p 2222 admin@wupp.dev</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="reforzando-la-seguridad" tabindex="-1">Reforzando la seguridad <a class="header-anchor" href="#reforzando-la-seguridad" aria-label="Permalink to &quot;Reforzando la seguridad&quot;">​</a></h2><p>Todavía tenemos que desactivar el acceso con usuario y contraseña por SSH, que es muy poco seguro, para solo permitir el acceso con las claves públicas permitidas. Vamos a editar el archivo <code>/etc/ssh/sshd_config</code> y a cambiar las siguientes líneas:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">PasswordAuthentication no</span></span>
<span class="line"><span style="color:#A6ACCD;">PermitRootLogin no</span></span>
<span class="line"><span style="color:#A6ACCD;">AllowUsers admin</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>Las líneas estarán en distintos sitios del archivo de configuración, solo hay que descomentarlas y editarlas. Además, en nuestro caso no aparecía la línea de <code>AllowUsers</code> para permitir la conexión solamente hacia ese usuario, así que la añadimos en cualquier parte del archivo. ¿Qué significa cada línea?</p><ul><li><code>PasswordAuthentication no</code> prohibe los accesos con contraseña, pudiendo ser únicamente con clave pública.</li><li><code>PermitRootLogin no</code> evita que se pueda acceder directamente al usuario <code>root</code>.</li><li><code>AllowUsers admin</code> es opcional pero recomendable, restringe los usuarios a los que se puede acceder directamente, se pueden poner varios separándolos por espacios.</li></ul><div class="warning custom-block"><p class="custom-block-title">ADVERTENCIA</p><p>Antes de hacer efectivos los cambios, tenemos que asegurarnos de que existe el archivo <code>/home/admin/.ssh/authorized_keys</code> y que tiene las claves públicas de los dispositivos desde los que nos queramos conectar al servidor, porque si no están no podremos conectarnos.</p></div><p>Por útlimo, hacemos efectivos los cambios:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">$ sudo systemctl restart ssh</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>Y ya deberíamos de poder conectarnos sin que nos pida la contraseña del usuario <code>admin</code>.</p><h2 id="virtual-network-computing-vnc" tabindex="-1">Virtual Network Computing (VNC) <a class="header-anchor" href="#virtual-network-computing-vnc" aria-label="Permalink to &quot;Virtual Network Computing (VNC)&quot;">​</a></h2><p>¿Qué mierdas es un VNC? Pues básicamente un entorno gráfico de escritorio remoto. Se utiliza para controlar remotamente otros ordenadores con un escritorio como si fuese realmente tu propio ordenador.</p><p>Hemos seguido <a href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-vnc-on-debian-10" target="_blank" rel="noreferrer">este tutorial</a>.</p><p>Como detalles, no hemos establecido una contraseña para solo vista.</p><p>Aquí da igual cambiar o no el puerto por defecto, ya que no estará expuesto directamente a internet.</p><p>En nuestro ordenador podemos instalar <code>xtightvncviewer</code> para conectarnos. Solo tendremos que conectarnos mediante SSH al servidor indicando que queremos redirigir el puerto 5901 de nuestro ordenador al 5901 del del servidor. Esto lo podemos hacer con <code>ssh -L 5901:127.0.0.1:5901 admin@wupp.dev</code>. Una vez estemos conectados, podemos ejecutar <code>xtightvncviewer</code> desde la terminal, conectarnos a <code>localhost:5901</code> y poner la contraseña del VNC.</p><p>En nuestro caso, al intentar conectarnos nos encontramos con el siguiente error:</p><p><img src="/server/assets/fallo-vnc.3eb219aa.png" alt="Fallo VNC"></p><p>Por suerte, se solucionó instalando un paquete y reiniciando el servidor VNC:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">$ sudo apt install dbus-x11</span></span>
<span class="line"><span style="color:#A6ACCD;">$ vncserver -kill :1</span></span>
<span class="line"><span style="color:#A6ACCD;">$ vncserver</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Es raro necesitar el servidor VNC, pero justo estoy escribiendo esta parte antes que la de configuración de servidor SSH porque necesito abrir unos puertos en el router y para eso necesito acceder con un navegador desde el servidor. Como era de esperar, Debian no venía con navegador instalado, así que para poder usar uno con el VNC instalamos Firefox con <code>sudo apt install firefox-esr</code>.</p></div><p>Importante no olvidar hacer que el servidor VNC se ejecute cada vez que el servidor se encienda, si no, tendremos que ejecutarlo manualmente antes de conectarnos.</p></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-408f3b24 data-v-6f25b358><div class="edit-info" data-v-6f25b358><!----><div class="last-updated" data-v-6f25b358><p class="VPLastUpdated" data-v-6f25b358 data-v-355aa5ef>Actualizado por última vez: <time datetime="2023-03-14T15:26:17.000Z" data-v-355aa5ef></time></p></div></div><div class="prev-next" data-v-6f25b358><div class="pager" data-v-6f25b358><a class="pager-link prev" href="/server/equipo/router-dominio.html" data-v-6f25b358><span class="desc" data-v-6f25b358>Previous page</span><span class="title" data-v-6f25b358>Configuración del router y dominio</span></a></div><div class="has-prev pager" data-v-6f25b358><a class="pager-link next" href="/server/equipo/nginx.html" data-v-6f25b358><span class="desc" data-v-6f25b358>Next page</span><span class="title" data-v-6f25b358>Nginx como servidor web</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><footer class="VPFooter has-sidebar" data-v-abcc630f data-v-d24360a6><div class="container" data-v-d24360a6><p class="message" data-v-d24360a6>Distribuido bajo la licencia CC BY.</p><p class="copyright" data-v-d24360a6>Copyright © 2022-presente Lucas de Uña Ocampo e Iván Salido Cobo</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"equipo_docker.md\":\"02cc3057\",\"equipo_mariadb-docker.md\":\"7121be3b\",\"equipo_hardware.md\":\"c40fe7dd\",\"equipo_gestion-remota.md\":\"0d56ad63\",\"equipo_nginx.md\":\"9919b901\",\"equipo_router-dominio.md\":\"02f8316d\",\"servicios_nextcloud.md\":\"c694edfb\",\"servicios_sharelatex.md\":\"6df96a51\",\"servicios_uptime-kuma.md\":\"55a5fd49\",\"shared_servicios_puertos.md\":\"660b0bfc\",\"shared_servicios_recordatorios-nginx.md\":\"34364222\",\"servicios_docker-mailserver.md\":\"d66038ac\",\"relatos_initramfs-vs-router.md\":\"2236e3f7\",\"relatos_bloqueo-ssh.md\":\"8e6a059f\",\"servicios_authentik.md\":\"5dc742ad\",\"index.md\":\"8dd4f1b3\",\"servicios_gitea.md\":\"f046eaa7\",\"servicios_navidrome.md\":\"a2c03639\",\"equipo_sistema-encriptado.md\":\"eb661567\",\"relatos_usuario-docker.md\":\"3cd8f0bb\",\"servicios_minecraft.md\":\"77285b76\",\"servicios_dozzle.md\":\"9e1bcd57\",\"servicios_homarr.md\":\"91235f95\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"es-ES\",\"dir\":\"ltr\",\"title\":\"Servidor mamadísimo\",\"description\":\"Guía del servidor.\",\"base\":\"/server/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"lastUpdatedText\":\"Actualizado por última vez\",\"nav\":[{\"text\":\"Inicio\",\"link\":\"/\",\"activeMatch\":\"\"},{\"text\":\"Guía del servidor\",\"link\":\"/equipo/hardware\",\"activeMatch\":\"/(equipo|servicios)/\"},{\"text\":\"Archivos de configuración\",\"link\":\"https://github.com/ComicIvans/server\"}],\"socialLinks\":[{\"icon\":\"discord\",\"link\":\"https://discord.gg/YdnmG5v8\"}],\"sidebar\":{\"/equipo/\":[{\"text\":\"Equipo\",\"collapsible\":true,\"items\":[{\"text\":\"Hardware\",\"link\":\"/equipo/hardware\"},{\"text\":\"Instalación del SO encriptado\",\"link\":\"/equipo/sistema-encriptado\"},{\"text\":\"Configuración del router y dominio\",\"link\":\"/equipo/router-dominio\"},{\"text\":\"Gestión remota con SSH y VNC\",\"link\":\"/equipo/gestion-remota\"},{\"text\":\"Nginx como servidor web\",\"link\":\"/equipo/nginx\"},{\"text\":\"Docker\",\"link\":\"/equipo/docker\"},{\"text\":\"Configurando MariaDB con Docker\",\"link\":\"/equipo/mariadb-docker\"}]},{\"text\":\"Servicios\",\"collapsible\":true,\"items\":[{\"text\":\"Minecraft con AMP\",\"link\":\"/servicios/minecraft\"},{\"text\":\"Dozzle - Visualizador de logs\",\"link\":\"/servicios/dozzle\"},{\"text\":\"Homarr - Dashboard\",\"link\":\"/servicios/homarr\"},{\"text\":\"Uptime Kuma - Status\",\"link\":\"/servicios/uptime-kuma\"},{\"text\":\"Authentik - Autenticación\",\"link\":\"/servicios/authentik\"},{\"text\":\"Nextcloud - Almacenamiento\",\"link\":\"/servicios/nextcloud\"},{\"text\":\"Gitea - Servicio git\",\"link\":\"/servicios/gogs\"},{\"text\":\"Navidrome - Streaming de música\",\"link\":\"/servicios/navidrome\"},{\"text\":\"Overleaf - Editor de LaTeX\",\"link\":\"/servicios/sharelatex\"},{\"text\":\"Docker Mailserver - Servidor de correo\",\"link\":\"/servicios/docker-mailserver\"}]},{\"text\":\"Relatos\",\"collapsible\":true,\"items\":[{\"text\":\"Initramfs vs Router\",\"link\":\"/relatos/initramfs-vs-router\"},{\"text\":\"Bloqueo de SSH\",\"link\":\"/relatos/bloqueo-ssh\"},{\"text\":\"Lucas vs. Debian & Docker & etc.\",\"link\":\"/relatos/usuario-docker\"}]}],\"/servicios/\":[{\"text\":\"Equipo\",\"collapsible\":true,\"items\":[{\"text\":\"Hardware\",\"link\":\"/equipo/hardware\"},{\"text\":\"Instalación del SO encriptado\",\"link\":\"/equipo/sistema-encriptado\"},{\"text\":\"Configuración del router y dominio\",\"link\":\"/equipo/router-dominio\"},{\"text\":\"Gestión remota con SSH y VNC\",\"link\":\"/equipo/gestion-remota\"},{\"text\":\"Nginx como servidor web\",\"link\":\"/equipo/nginx\"},{\"text\":\"Docker\",\"link\":\"/equipo/docker\"},{\"text\":\"Configurando MariaDB con Docker\",\"link\":\"/equipo/mariadb-docker\"}]},{\"text\":\"Servicios\",\"collapsible\":true,\"items\":[{\"text\":\"Minecraft con AMP\",\"link\":\"/servicios/minecraft\"},{\"text\":\"Dozzle - Visualizador de logs\",\"link\":\"/servicios/dozzle\"},{\"text\":\"Homarr - Dashboard\",\"link\":\"/servicios/homarr\"},{\"text\":\"Uptime Kuma - Status\",\"link\":\"/servicios/uptime-kuma\"},{\"text\":\"Authentik - Autenticación\",\"link\":\"/servicios/authentik\"},{\"text\":\"Nextcloud - Almacenamiento\",\"link\":\"/servicios/nextcloud\"},{\"text\":\"Gitea - Servicio git\",\"link\":\"/servicios/gogs\"},{\"text\":\"Navidrome - Streaming de música\",\"link\":\"/servicios/navidrome\"},{\"text\":\"Overleaf - Editor de LaTeX\",\"link\":\"/servicios/sharelatex\"},{\"text\":\"Docker Mailserver - Servidor de correo\",\"link\":\"/servicios/docker-mailserver\"}]},{\"text\":\"Relatos\",\"collapsible\":true,\"items\":[{\"text\":\"Initramfs vs Router\",\"link\":\"/relatos/initramfs-vs-router\"},{\"text\":\"Bloqueo de SSH\",\"link\":\"/relatos/bloqueo-ssh\"},{\"text\":\"Lucas vs. Debian & Docker & etc.\",\"link\":\"/relatos/usuario-docker\"}]}],\"/relatos/\":[{\"text\":\"Equipo\",\"collapsible\":true,\"items\":[{\"text\":\"Hardware\",\"link\":\"/equipo/hardware\"},{\"text\":\"Instalación del SO encriptado\",\"link\":\"/equipo/sistema-encriptado\"},{\"text\":\"Configuración del router y dominio\",\"link\":\"/equipo/router-dominio\"},{\"text\":\"Gestión remota con SSH y VNC\",\"link\":\"/equipo/gestion-remota\"},{\"text\":\"Nginx como servidor web\",\"link\":\"/equipo/nginx\"},{\"text\":\"Docker\",\"link\":\"/equipo/docker\"},{\"text\":\"Configurando MariaDB con Docker\",\"link\":\"/equipo/mariadb-docker\"}]},{\"text\":\"Servicios\",\"collapsible\":true,\"items\":[{\"text\":\"Minecraft con AMP\",\"link\":\"/servicios/minecraft\"},{\"text\":\"Dozzle - Visualizador de logs\",\"link\":\"/servicios/dozzle\"},{\"text\":\"Homarr - Dashboard\",\"link\":\"/servicios/homarr\"},{\"text\":\"Uptime Kuma - Status\",\"link\":\"/servicios/uptime-kuma\"},{\"text\":\"Authentik - Autenticación\",\"link\":\"/servicios/authentik\"},{\"text\":\"Nextcloud - Almacenamiento\",\"link\":\"/servicios/nextcloud\"},{\"text\":\"Gitea - Servicio git\",\"link\":\"/servicios/gogs\"},{\"text\":\"Navidrome - Streaming de música\",\"link\":\"/servicios/navidrome\"},{\"text\":\"Overleaf - Editor de LaTeX\",\"link\":\"/servicios/sharelatex\"},{\"text\":\"Docker Mailserver - Servidor de correo\",\"link\":\"/servicios/docker-mailserver\"}]},{\"text\":\"Relatos\",\"collapsible\":true,\"items\":[{\"text\":\"Initramfs vs Router\",\"link\":\"/relatos/initramfs-vs-router\"},{\"text\":\"Bloqueo de SSH\",\"link\":\"/relatos/bloqueo-ssh\"},{\"text\":\"Lucas vs. Debian & Docker & etc.\",\"link\":\"/relatos/usuario-docker\"}]}]},\"footer\":{\"message\":\"Distribuido bajo la licencia CC BY.\",\"copyright\":\"Copyright © 2022-presente Lucas de Uña Ocampo e Iván Salido Cobo\"}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}")</script>
    
  </body>
</html>